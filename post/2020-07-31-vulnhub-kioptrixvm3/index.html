<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Vulnhub-KioptrixVM3 - Josephine&#39;s Blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Josephine" /><meta name="description" content="靶机介绍 靶机描述 It&amp;rsquo;s been a while since the last Kioptrix VM challenge. Life keeps getting the way of these things you know. After the seeing the number of downloads for the last two, and the numerous videos showing ways to beat these challenges. I felt that 1.2 (or just level 3) needed to come out. Thank you to all that downloaded and played the" />






<meta name="generator" content="Hugo 0.80.0 with theme even" />


<link rel="canonical" href="https://bulletforkiller.github.io/post/2020-07-31-vulnhub-kioptrixvm3/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.2e81bbed97b8b282c1aeb57488cc71c8d8c8ec559f3931531bd396bf31e0d4dd.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Vulnhub-KioptrixVM3" />
<meta property="og:description" content="靶机介绍 靶机描述 It&rsquo;s been a while since the last Kioptrix VM challenge. Life keeps getting the way of these things you know. After the seeing the number of downloads for the last two, and the numerous videos showing ways to beat these challenges. I felt that 1.2 (or just level 3) needed to come out. Thank you to all that downloaded and played the" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://bulletforkiller.github.io/post/2020-07-31-vulnhub-kioptrixvm3/" />
<meta property="article:published_time" content="2020-07-31T10:39:56+00:00" />
<meta property="article:modified_time" content="2020-07-31T10:39:56+00:00" />
<meta itemprop="name" content="Vulnhub-KioptrixVM3">
<meta itemprop="description" content="靶机介绍 靶机描述 It&rsquo;s been a while since the last Kioptrix VM challenge. Life keeps getting the way of these things you know. After the seeing the number of downloads for the last two, and the numerous videos showing ways to beat these challenges. I felt that 1.2 (or just level 3) needed to come out. Thank you to all that downloaded and played the">
<meta itemprop="datePublished" content="2020-07-31T10:39:56+00:00" />
<meta itemprop="dateModified" content="2020-07-31T10:39:56+00:00" />
<meta itemprop="wordCount" content="1745">



<meta itemprop="keywords" content="Vulnhub," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Vulnhub-KioptrixVM3"/>
<meta name="twitter:description" content="靶机介绍 靶机描述 It&rsquo;s been a while since the last Kioptrix VM challenge. Life keeps getting the way of these things you know. After the seeing the number of downloads for the last two, and the numerous videos showing ways to beat these challenges. I felt that 1.2 (or just level 3) needed to come out. Thank you to all that downloaded and played the"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Josephine&#39;s Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Josephine&#39;s Blog</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Vulnhub-KioptrixVM3</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-07-31 </span>
        <div class="post-category">
            <a href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"> 渗透测试 </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#靶机介绍">靶机介绍</a>
          <ul>
            <li><a href="#靶机描述">靶机描述</a></li>
            <li><a href="#靶机地址">靶机地址</a></li>
          </ul>
        </li>
        <li><a href="#信息收集">信息收集</a></li>
        <li><a href="#漏洞利用">漏洞利用</a>
          <ul>
            <li><a href="#phpmyadmin">phpmyadmin</a></li>
            <li><a href="#lotuscms">LotusCMS</a></li>
            <li><a href="#openssh-爆破">OpenSSH 爆破</a></li>
          </ul>
        </li>
        <li><a href="#权限提升">权限提升</a>
          <ul>
            <li><a href="#内核提权">内核提权</a></li>
            <li><a href="#ht-editor-提权">HT Editor 提权</a></li>
          </ul>
        </li>
        <li><a href="#参考链接">参考链接</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="靶机介绍">靶机介绍</h2>
<h3 id="靶机描述">靶机描述</h3>
<p>It&rsquo;s been a while since the last Kioptrix VM challenge. Life keeps getting the way of these things you know.</p>
<p>After the seeing the number of downloads for the last two, and the numerous videos showing ways to beat these challenges. I felt that 1.2 (or just level 3) needed to come out. Thank you to all that downloaded and played the first two. And thank you to the ones that took the time to produce video solutions of them. Greatly appreciated.</p>
<p>As with the other two, this challenge is geared towards the beginner. It is however different. Added a few more steps and a new skill set is required. Still being the realm of the beginner I must add. The same as the others, there’s more then one way to “pwn” this one. There’s easy and not so easy. Remember… the sense of “easy” or “difficult” is always relative to ones own skill level. I never said these things were exceptionally hard or difficult, but we all need to start somewhere. And let me tell you, making these vulnerable VMs is not as easy as it looks…</p>
<p>Important thing with this challenge. Once you find the IP (DHCP Client) edit your hosts file and point it to kioptrix3.com</p>
<p>Under Windows, you would edit C:\Windows\System32\drivers\etc\hosts to look something like this:</p>
<p># localhost name resolution is handled within DNS itself.
#   127.0.0.1 localhost
#   ::1 localhost127.0.0.1 static3.cdn.ubi.com
192.168.1.102 kioptrix3.com
Under Linux that would be /etc/hosts</p>
<p>There’s a web application involved, so to have everything nice and properly displayed you really need to this.</p>
<p>Hope you enjoy Kioptrix VM Level 1.2 challenge.</p>
<p>452 Megs</p>
<p>MD5 Hash : d324ffadd8e3efc1f96447eec51901f2</p>
<p>Have fun</p>
<h3 id="靶机地址">靶机地址</h3>
<p><a href="https://www.vulnhub.com/entry/kioptrix-level-12-3,24/">https://www.vulnhub.com/entry/kioptrix-level-12-3,24/</a></p>
<h2 id="信息收集">信息收集</h2>
<p>获得靶机的 IP 地址：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">nmap -sn 192.168.56.0/24

Starting Nmap 7.80 <span class="o">(</span> https://nmap.org <span class="o">)</span> at 2020-07-31 07:34 CST
Nmap scan report <span class="k">for</span> 192.168.56.1
Host is up <span class="o">(</span>0.00081s latency<span class="o">)</span>.
Nmap scan report <span class="k">for</span> 192.168.56.112
Host is up <span class="o">(</span>0.00061s latency<span class="o">)</span>.
Nmap <span class="k">done</span>: <span class="m">256</span> IP addresses <span class="o">(</span><span class="m">2</span> hosts up<span class="o">)</span> scanned in 3.31 seconds
</code></pre></td></tr></table>
</div>
</div><p>靶机的地址为 <strong>192.168.56.112</strong>，扫描端口和服务：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">sudo nmap -sC -sV -p- -T4 -O 192.168.56.112
</code></pre></td></tr></table>
</div>
</div><p>结果如下：</p>
<p><img src="/images/2020-07-31/nmap.webp" alt="nmap"></p>
<p>只开放了 22 和 80,运行着 SSH 和 Apache，而且可以看到 Apache 上运行着 PHP，版本为 5.2.4，而操作系统很可能是 Ubuntu。有了前几天的积累，发现 SSH 服务一般除了特别低的版本存在严重的漏洞，高版本除了爆破似乎没有更好的办法，也可能是因为姿势水平不够。那么将从 Apache 入手。</p>
<p>首先使用 <strong>dirb</strong> 扫描一下目录：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">dirb http://192.168.56.112
</code></pre></td></tr></table>
</div>
</div><p>扫描的结果中有一下比较有意思的地方，等会着重关注：</p>
<p><img src="/images/2020-07-31/phpmyadmin.webp" alt="phpmyadmin"></p>
<p><img src="/images/2020-07-31/phpmyadmin_login.webp" alt="phpmyadmin_login"></p>
<p>在浏览器中打开 <a href="http://192.168.56.112">http://192.168.56.112</a>，主页如下：</p>
<p><img src="/images/2020-07-31/index.webp" alt="index"></p>
<p>似乎主页说他们致力于安全，而且更换了新的 CMS 系统，博客中有更多的信息。有登陆页面，便直奔登陆页面：</p>
<p><img src="/images/2020-07-31/login.webp" alt="login"></p>
<p><strong>Powered by：LotusCMS</strong>？？应该是使用的框架名称。使用 searchsploit 搜索相关的 exp，得到以下的结果:</p>
<p><img src="/images/2020-07-31/LotusCMS.webp" alt="LotusCMS"></p>
<h2 id="漏洞利用">漏洞利用</h2>
<h3 id="phpmyadmin">phpmyadmin</h3>
<p>由之前信息收集阶段的结果可知 phpmyadmin 的版本为 <strong>2.11.3</strong>，搜索可知该版本存在&quot;万能密码&quot;,使用 <strong>&lsquo;localhost&rsquo;@'@&quot;</strong> 即可登陆。</p>
<p><img src="/images/2020-07-31/phpadmin_enter.webp" alt="phpadmin_enter"></p>
<p>虽然进去了，但是只能看到 <strong>information_schema</strong> 这一个数据库，姿势不到位进行不下去只有放弃。</p>
<h3 id="lotuscms">LotusCMS</h3>
<p>根据之前搜索的结果，有一个远程代码执行的 exp，直接打开 Metasploit 进行利用：</p>
<p><img src="/images/2020-07-31/lotus_exp.webp" alt="Lotus_exp"></p>
<h3 id="openssh-爆破">OpenSSH 爆破</h3>
<p>后来看别人的博客才发现还可以这样，以前发现 SSH 的服务只要没有版本导致的漏洞是直接放过的，爆破从来没有考虑过。靶机的博客中提到了他们的新员工 <strong>loneferret</strong>，直接当作 SSH 的用户名进行爆破，这里我使用 <strong>hydra</strong> 进行爆破，字典选用 seclists 带的 <strong>darkweb2017-top1000.txt</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">hydra -l loneferret -P /usr/share/seclists/Passwords/darkweb2017-top1000.txt
</code></pre></td></tr></table>
</div>
</div><p><img src="/images/2020-08-02/hydra_exploit.webp" alt="hydra"></p>
<p>果然爆破得出密码 —— <strong>starwars</strong>。使用 SSH 登录：</p>
<p><img src="/images/2020-08-02/ssh_login.webp" alt="ssh_login"></p>
<h2 id="权限提升">权限提升</h2>
<p>查看刚才 LotusCMS 远程代码执行的到的 shell 的权限如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">id <span class="p">&amp;</span> whoami

<span class="nv">uid</span><span class="o">=</span>33<span class="o">(</span>www-data<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>33<span class="o">(</span>www-data<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span>33<span class="o">(</span>www-data<span class="o">)</span>
www-data
</code></pre></td></tr></table>
</div>
</div><p>权限比较低，接下来进行提权。</p>
<h3 id="内核提权">内核提权</h3>
<p>继续查看内核版本及操作系统的详细信息：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">uname -r <span class="p">&amp;</span> cat /etc/*-release

2.6.24-24-server
<span class="nv">DISTRIB_ID</span><span class="o">=</span>Ubuntu
<span class="nv">DISTRIB_CODENAME</span><span class="o">=</span>hardy
<span class="nv">DISTRIB_DESCRIPTION</span><span class="o">=</span><span class="s2">&#34;Ubuntu 8.04.3 LTS&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>既然如此，直接脏牛好了（太懒了）：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">searchsploit dirty cow

---------------------------------------------------------------------------------------------------------------------------- ---------------------------------
 Exploit Title                                                                                                              <span class="p">|</span>  Path
---------------------------------------------------------------------------------------------------------------------------- ---------------------------------
Linux Kernel - <span class="s1">&#39;The Huge Dirty Cow&#39;</span> Overwriting The Huge Zero Page <span class="o">(</span>1<span class="o">)</span>                                                      <span class="p">|</span> linux/dos/43199.c
Linux Kernel - <span class="s1">&#39;The Huge Dirty Cow&#39;</span> Overwriting The Huge Zero Page <span class="o">(</span>2<span class="o">)</span>                                                      <span class="p">|</span> linux/dos/44305.c
Linux Kernel 2.6.22 &lt; 3.9 <span class="o">(</span>x86/x64<span class="o">)</span> - <span class="s1">&#39;Dirty COW /proc/self/mem&#39;</span> Race Condition Privilege Escalation <span class="o">(</span>SUID Method<span class="o">)</span>          <span class="p">|</span> linux/local/40616.c
Linux Kernel 2.6.22 &lt; 3.9 - <span class="s1">&#39;Dirty COW /proc/self/mem&#39;</span> Race Condition Privilege Escalation <span class="o">(</span>/etc/passwd Method<span class="o">)</span>             <span class="p">|</span> linux/local/40847.cpp
Linux Kernel 2.6.22 &lt; 3.9 - <span class="s1">&#39;Dirty COW PTRACE_POKEDATA&#39;</span> Race Condition <span class="o">(</span>Write Access Method<span class="o">)</span>                                <span class="p">|</span> linux/local/40838.c
Linux Kernel 2.6.22 &lt; 3.9 - <span class="s1">&#39;Dirty COW&#39;</span> <span class="s1">&#39;PTRACE_POKEDATA&#39;</span> Race Condition Privilege Escalation <span class="o">(</span>/etc/passwd Method<span class="o">)</span>          <span class="p">|</span> linux/local/40839.c
Linux Kernel 2.6.22 &lt; 3.9 - <span class="s1">&#39;Dirty COW&#39;</span> /proc/self/mem Race Condition <span class="o">(</span>Write Access Method<span class="o">)</span>                                 <span class="p">|</span> linux/local/40611.c
---------------------------------------------------------------------------------------------------------------------------- ---------------------------------

</code></pre></td></tr></table>
</div>
</div><p>这里我使用 <strong>40839.c</strong>，即修改 <strong>/etc/passwd</strong>，添加一个新的账号 <strong>firefart</strong> 且 UID 为 0。使用 meterpreter 上传代码，编译并运行。</p>
<p><img src="/images/2020-07-31/lpe.webp" alt="lpe"></p>
<p>最终 SSH 进去：</p>
<p><img src="/images/2020-07-31/ssh.webp" alt="SSH"></p>
<h3 id="ht-editor-提权">HT Editor 提权</h3>
<p>之前直接内核提权是比较懒的办法，接着查看是否还有其他途径。使用 loneferret 账号 SSH 登陆进去，发现家下有一个文件，进行查看：</p>
<p><img src="/images/2020-08-02/company_policy.webp" alt="company_policy"></p>
<p>一个查看文件的工具，为何要 <strong>sudo</strong>？继续执行以下命令查看具有 <strong>SUID</strong> 权限的命令：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">find / -perm -4000 2&gt;/dev/null

/usr/lib/eject/dmcrypt-get-device
/usr/lib/openssh/ssh-keysign
/usr/lib/apache2/suexec
/usr/lib/pt_chown
/usr/bin/arping
/usr/bin/mtr
/usr/bin/newgrp
/usr/bin/chfn
/usr/bin/gpasswd
/usr/bin/sudo
/usr/bin/at
/usr/bin/sudoedit
/usr/bin/chsh
/usr/bin/passwd
/usr/bin/traceroute6.iputils
/usr/local/bin/ht
/usr/sbin/pppd
/usr/sbin/uuidd
/lib/dhcp3-client/call-dhclient-script
/bin/fusermount
/bin/ping
/bin/mount
/bin/umount
/bin/ping6
/bin/su
</code></pre></td></tr></table>
</div>
</div><p>果然有这个 <strong>ht</strong>。直接 cat 查看 <strong>/etc/sudoers</strong> 没有权限，那么就使用这个 <strong>ht</strong> 来查看。这里注意需要设置以下的环境变量才能打开：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="nb">export</span> <span class="nv">TERM</span><span class="o">=</span>xterm
</code></pre></td></tr></table>
</div>
</div><p>继续查看，ht 内按 F6 可以选择显示的模式，以文本形式显示。可见以下：</p>
<p><img src="/images/2020-08-02/sudoers.webp" alt="sudoers"></p>
<p>ht 和 su 可以免密码 sudo 执行（免不免密码无所谓了，反正密码都爆破出来了）。<strong>sudo ht</strong> 基本可以修改任意文件，而 <strong>sudo su</strong> 直接能获取 <strong>root</strong> 权限。但试了一下执行不了 <strong>su</strong>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">which su

/bin/su
</code></pre></td></tr></table>
</div>
</div><p>Emmm，<strong>/etc/sudoers</strong> 里面的 <strong>su</strong> 路径错了，正好拿 <strong>ht</strong> 修改下，将 <strong>/usr</strong> 全部改成空格就 OK了。最终获取 root shell：</p>
<p><img src="/images/2020-08-02/get_root.webp" alt="get_root"></p>
<h2 id="参考链接">参考链接</h2>
<ol>
<li><a href="https://www.abatchy.com/2016/12/kioptrix-3-walkthrough-vulnhub">https://www.abatchy.com/2016/12/kioptrix-3-walkthrough-vulnhub</a></li>
</ol>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">Josephine</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2020-07-31
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/vulnhub/">Vulnhub</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2020-08-04-vulnhub-kioptrix-4/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Vulnhub-Kioptrix_level_4</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/2020-07-30-awk/">
            <span class="next-text nav-default">awk 学习</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://bulletforkiller.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2020 - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>Josephine</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
